<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.0.2/chart.min.js"
        integrity="sha512-dnUg2JxjlVoXHVdSMWDYm2Y5xcIrJg1N+juOuRi0yLVkku/g26rwHwysJDAMwahaDfRpr1AxFz43ktuMPr/l1A=="
        crossorigin="anonymous">
    </script>
    <link rel="stylesheet" href="./financeiro.css">
    <title>Financeiro</title>
</head>

<body class="imagem_fundo">

    <!-- INICÍO DO HEADER -->
    <div class="cabecalho">
        <div class="caixa">
            <div class="logo">
                <a href="home.html"><img src="./wisoy.png" alt="logo WiSoy">
                    <span>WiSoy</span>
                </a>
            </div>
            <nav>
                <ul>
                    <li><a href="home.html">Home</a></li>
                    <li class="li_sobre">
                        <a href="sobre.html">Sobre</a>

                    </li>
                    <li><a href="portfolio.html">Portfolio</a></li>
                    <li><a href="contato.html">Contato</a></li>
                    <li><a href="log in.html">Log In</a></li>
                </ul>
            </nav>
        </div>
    </div>
    <!-- FIM DO HEADER -->

    <div class="corpo_colunas">
        <div class="colunas">
            <div class="coluna_esquerda">
                <div class="corpo_simulador">
                    <img onclick="abrirGrafico2()" id="imgWiSoy" src="wisoy.png" alt="Logo WiSoy">
                    <form class="formulario">
                        <div class="inputs">
                            <span>Área de cultivo em hectares:</span>
                            <input type="text" id="inp_area" placeholder="Área de cultivo em hectares">
                        </div>
                        <div class="inputs">
                            Quantidade de safras:
                            <input type="text" id="inp_colheitas" placeholder="Número de colheitas">
                        </div>

                        <div class="div_select inputs">Selecione abaixo o estado da safra:

                            <select name="" id="sel_estado">
                                <option value="0">-- Selecione o seu estado (UF): --</option>
                                <option value="161">AC</option>
                                <option value="158">AL</option>
                                <option value="159">AP</option>
                                <option value="174">AM</option>
                                <option value="162">BA</option>
                                <option value="172">CE</option>
                                <option value="164">DF</option>
                                <option value="175">ES</option>
                                <option value="161">GO</option>
                                <option value="168">MA</option>
                                <option value="165.50">MT</option>
                                <option value="159">MS</option>
                                <option value="162">MG</option>
                                <option value="172">PA</option>
                                <option value="166">PB</option>
                                <option value="173">PR</option>
                                <option value="174">PE</option>
                                <option value="164">PI</option>
                                <option value="166">RJ</option>
                                <option value="175">RN</option>
                                <option value="165">RS</option>
                                <option value="173">RO</option>
                                <option value="170">RR</option>
                                <option value="162">SC</option>
                                <option value="160">SP</option>
                                <option value="165">SE</option>
                                <option value="167">TO</option>
                            </select>
                        </div>
                        <div class="div_select" id="mensagem_valor_safra"> Saca atual: R$</div>
                        <button onclick="calculo()">Simular Rendimento</button>
                </div>
            </div>
            </form>



            <div class="coluna_direita" id="coluna_direita">
                <div class="caixa_direita">
                    <div class="caixa_superior">
                        <Div id="div_msg" class="titulo">Ganho estimado em R$</Div>
                    </div>
                    <div class="caixa_inferior">
                        <div style="width: 80%;">
                            <canvas id="chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- FIM DO SIMULADOR -->

    <!-- INICÍO DO RODAPÉ -->
    <div class="rodape">Copyright &copy 2021 - Todos os direitos reservados - WiSoy</div>
    <!-- FIM DO RODAPÉ-->


</body>

</html>

<script>
    function abrirGrafico2() {
        coluna_direita.style = 'display: block; float: left;';
    }

    var ctx = chart.getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: ['setor 1', 'setor 2', 'setor 3', 'setor 4', 'setor 5', 'setor 6', 'setor 7', 'setor 8',
                'setor 9', 'setor 10',
            ],
            datasets: [{
                label: '% Umidade',
                data: [12, 19, 3, 5, 2, 3, 7, 13, 24, 8],

                backgroundColor: [
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 159, 64, 1)'
                ],
                borderColor: [
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 159, 64, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });

    function calculo() {
        // Recebe o valor que o usuário insere em inp_area.
        var area = Number(inp_area.value);

        // Recebe o valor que o usuário insere em inp_safras.
        var safra = Number(inp_colhe.value);

        // O valor da saca de soja 
        var valorDaSaca = Number(inp_valor.value);

        // Recebe o número de sensores necessários para o tamanho do plantio descrito, sendo 1 sensor para cada 30 hectares.
        var sensores = area / 30;
        sensores = Math.ceil(sensores);

        // Recebe o custo cobrado pela mão de obra WiSoy para implementar a solução por sensor.
        var implantacao = 500;

        // Recebe o valor do investimento inicial, sendo o número de sensores multiplicados por valor da mão de obra.
        var investimentoInicial = implantacao * sensores;

        // Valor da assinatura para 1 sensor
        var assinatura = 300;

        /* Recebe o custo mensal da assinatura que cobre manutenções futuras e quaisquer tipos de ocorrência relacionadas aos serviços WiSoy. Sendo o custo baseado na
        quantidade de sensores que o cliente possui em seu plantio */
        var custoMensal = sensores * assinatura;

        // Tempo para a colheita da safra em meses
        var cicloSafra = 4;

        // Uma safra é igual a 55 sacas por hectar
        var safraSacas = 55;

        // Logo o valor de uma safra valor inserido de sacas x valor inserido da saca;
        var ganhoHectare = valorDaSaca * safraSacas;

        /* Portanto, o rendimento do cliente sem o uso de sensores será o número número de safras multiplicado pelo valor de cada safra multiplicado pelo número de
        hectares */
        var rendimentoComum = safra * ganhoHectare * area;

        /* Rendimento com serviços WiSoy */

        //R$495 Reais em cada safra por hectare é o que a WiSoy estima em ganhos para o cliente.
        // Segundo o "Institute of Agriculture and Natural Resources" na universidade de Nebraska-Lincoln, otimizar a umidade do solo no
        // cultivo de soja pode levar a um aumento de até 5,43% no rendimento. A linha abaixo subtrai do rendimento total wisoy os custos 
        // considerando uma safra = 120 dias = 4 meses 
        var rendimentoWisoy = safra * (ganhoHectare * 1.0543) * area - (investimentoInicial + custoMensal * safra *
            cicloSafra);
        rendimentoWisoy = rendimentoWisoy.toFixed(2);


        /* Diferença de rendimento comum e Wisoy*/
        var diferencaRendimento = rendimentoWisoy - rendimentoComum;
        diferencaRendimento = diferencaRendimento.toFixed(2);


        div_msg.innerHTML = `Ganho estimado em R$ ${rendimentoWisoy}`;
    }
</script>